---
title: "宅内ドキュメントをGitHubに、markdownでpublic化したお話"
emoji: "🐇"
type: "idea"
topics: ["家計", "GitHub", "公開", "ドキュメント管理"]
published: true
---

こんにちは、hinoshiba です。  
今回、宅内ドキュメントをインターネット上に**公開**する対応をとったので、経緯などをブログにまとめようと思い、記事を作成しています。  

# 宅内ドキュメント とは？

今回の記事で紹介する宅内ドキュメントとは、家庭の情報を共有するためのwikiを指しています。  
一人暮らし時は、それらをなんとなく手元のメモでテキトーにまとめておりましたが、同棲直後ぐらいからある程度読みやすいドキュメント化と、使いやすいアクセス形態の検討に力を入れていきました。  
2017年ごろから試行錯誤を行い、Git管理+Markdown Preview機能を活用した宅内ドキュメントの運用を開始しています。  

Git管理を採用していることにより、差分がいつでも見れるようになっています。  
これにより、夫婦間の合意なくこっそり更新したというようなトラブルを減らし、透明感のある運用を行っています。  

宅内ドキュメントには、  

* 家庭のルール
* Wifiのパスワード
* 物品の管理台帳
* 定期契約の管理台帳
* 家計簿  

等の様々な情報をまとめています。  

家電量販店で物品を購入する際、宅内ドキュメントをさっと確認し型番を確認することができたりと、まとめる癖がついていると、ふとしたときに恩恵を受けられるのでおすすめです。  
といっても、本記事に到達されているユーザのみなさまは、ドキュメント化慣れしている人が多いと思われるので、耳だこかもしれませんね。  

さて、今回の記事は、そんな宅内ドキュメントの一部をGithubにpublicで運用し始めたというお話です。  

# これまで運用

2020年までは、オンプレの完全非公開 と、 クラウドの非公開 の2系統のみで運用をしていました。  
クラウドの非公開だけでも運用自体は可能ですが、情報流出を懸念する観点から、サービス上の不手際により最悪流出しても大きな影響がないものに限り、クラウド上に載せる方針としています。  
例えば、家庭で利用しているWindowsのプロダクトキーなどは、流石に漏れてほしくないものなので、オンプレの完全非公開側へ載せています。  
物としては、オンプレには、[Gitea](https://gitea.io/en-us/) を採用しており、クラウドは、みなさんもご存知 [GitHub](https://github.com/) を採用しています。  


# 公開を検討するきっかけ

2020年11月ごろ、宅内ルールの周知不足により、知人を招いた際、妻へ迷惑をかけてしまう事象が発生しました。  
事象の詳細は、書き控えますが、家庭や地域によっては、`普通`に問題が無いとされるケースもありえそうな事象です。  
これについて、後日、夫婦で話し合いを行い、`普通`は家庭によって温度が異なる事、弊家の`普通`が知人に適切に伝わっていなかった事などから、本件は仕方ないが以後気を付ける方向になりました。

しかし、`普通` とは危険ですね。  
私は普段、`普通`という言葉を使う事にとても気をつけています。(一般的に`普通`を使うような文章では、`平時`と表現するか、状況を定義してから表現しています。)  
`普通`という言葉は、「広く通用する状態([Wikipedia: 普通 より引用](https://ja.wikipedia.org/wiki/%E6%99%AE%E9%80%9A))」 という意味を持つので、危険だと感じます。  
というのも`普通`とは、`広く通用する` ので、どうせみんな知っており わざわざ説明する必要がないと判断されがちです。  
しかし、`広く通用する`は、TPOによって異なるので、状況に応じて説明が必要なケースもありえます。  
説明すべきときにも説明されない可能性があるそれぞれの`普通`とは、とても危険だと思いませんか。  
「普通に考えてAは、Bでしょ。」「いやいや、普通 Aは、Cでしょ。」というような状況が起きてしまいますね。`global define Aの普通` を全人類の頭の中の.pyファイルに加筆する必要があります。  
さて、今回発生した問題も、東京比、田舎である、私の実家などでは`普通`で受け入れられそうな事象でもありました。  

とはいえ、いくら特定の地域や家庭によって`普通`だとしても、本件によって妻へ迷惑をかけてしまった事実があり、再発防止策を検討する必要があります。  
(夫婦の話し合いの際に、妻より「来客予約システムでも作って、ルールを読んでから来る流れにしたらいいのでは。」と冗談混じりに言われ、ここだけの話本当に作ろうか検討もしました。)  
ここで私の考えた再発防止策は、夫婦間の`普通`のすり合わせと、弊家の`普通`の共有です。  

夫婦間のすり合わせについては、明文化することで解決します。  
夫婦間のすり合わせの内容を、既存の仕組みである、宅内ドキュメントに書き起こすだけです。  

さて、問題は、宅外への共有方法です。  
宅内ルールを都度コピペして知人へ伝えるのは、少し手間ですし、実体が複数になってしまい、コピーは大元の更新を追従できません。  

となると、実体の1箇所化できる、公開ページの作成が考えられてきました。  

# 追加で公開する対象を考える

以前より宅内ドキュメントの一部は、知人へ共有したことがありました。  
例えば、家計簿の運用手順です。  
私は、自宅のお買い物リストをbot化したり、家計簿をPR形式にするなど、家庭のIT活用による効率化を日々考えています。  
(botや家計簿の詳細は、[非IT業界の妻にPullRequestを送ろう ~家計簿GitHubリポジトリ化の軌跡~](https://zenn.dev/hinoshiba/articles/pullrequest2noit-mywife) で紹介しています。)  
こちらの運用について、知人から参考のために共有依頼をうけることもあり、実際の運用フローをコピペして共有していました。  

さて、この手順ですが、非公開にするような情報が含まれておりません。単に、他に場所がない為、一色帯に宅内ドキュメントにまとめていました。  
そのため、公開ページの検討をした今であれば、非公開にすべき情報が含まれていないドキュメントも合わせて公開し、参考にしたい知人へも簡単になります。  
さらに、非課金GitHubアカウントでも、[GitHub Pages](https://docs.github.com/ja/pages/getting-started-with-github-pages/about-github-pages) によって好きなレイアウトも選ぶことができるようになるので、私自身読みやすくなるという恩恵もあり、非公開にすべき情報がない限り基本的に公開していくスタンスでドキュメントの整理を行いました。  

# そして、宅内ドキュメントの公開

最終的には、Pagesとして、宅内ドキュメントの公開ページを生やしました。  
https://www.hinoshiba.com/public_iCH1family/  
情報量はまだ少なく、レイアウトも改善の余地ありですが、今後は、publicとして、宅内手順を更新していこうと思います。  

起因となった弊家の`普通`については、以下にまとめています。  
https://www.hinoshiba.com/public_iCH1family/rule/share2friend.html  
方針としては、ルールガッチガチに相手を縛りたいわけではなく、こちらの認識を伝えていれば、招く側も招かれる側もお互いストレスフリーに幸せになれるといいなという方向です。  
例えば、弊家には、トイレにスリッパがありません。状況をしらなければ不衛生と感じてしまうと思います。しかし、そこで、「なぜスリッパがないの？」とわざわざ訪ねる事も稀かと思います。  
そのようなケースにおいても、なぜ無いのかを明文化しておくと少しストレス軽減されるのでは無いかと思っています。  

---

さて、これにて、弊家の宅内ドキュメントは、「オンプレ完全非公開」、「クラウド非公開」、「クラウド公開」と、機密度に応じた3段階のドキュメント管理が行われ始めました。  
これからもPDCAサイクルを回していけばJIS Q 27001 準拠な誤家庭の誕生も近いかもしれませんね。  
という冗談は置いておいて、そこまでルールをガチガチにしないにしても、公開する事で双方が幸せになりそうな仕組みは引き続き検討していこうと思います。  
